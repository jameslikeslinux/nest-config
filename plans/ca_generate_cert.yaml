---
description: 'Generate and sign a new Puppet certificate'

parameters:
  certname:
    description: 'The name to generate a cert for'
    type: String

steps:
  - description: 'Generate the cert using the Puppet Server CA'
    command: "podman exec puppetserver puppetserver ca generate --certname ${certname}"
    run_as: root
    targets: puppet-server
