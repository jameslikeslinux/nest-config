---
description: 'Deploy james.tl portfolio'

parameters:
  namespace:
    description: 'Kubernetes namespace'
    type: String
    default: 'default'

  deploy:
    description: 'Run or skip the deployment'
    type: Boolean
    default: true

  init:
    description: 'Deploy initial revision without backup or restore'
    type: Boolean
    default: false

  restore:
    description: 'Load content and data from backup'
    type: Boolean
    default: false

  render_to:
    description: 'Just render the template'
    type: String
    default: ''

steps:
  - description: 'Deploy portfolio WordPress instance'
    plan: nest::eyrie::deploy_wordpress
    parameters:
      service: 'portfolio'
      namespace: $namespace
      deploy: $deploy
      init: $init
      restore: $restore
      render_to: $render_to
