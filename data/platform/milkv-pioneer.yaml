---
nest::classes:
  - 'nest::firmware::opensbi'
  - 'nest::firmware::sophgo'
  - 'nest::firmware::uboot'
  - 'nest::firmware::zsbl'

nest::bootloader: systemd
nest::dtb_file: 'sophgo/mango-milkv-pioneer.dtb'
nest::kernel_defconfig: 'sophgo_mango_normal_defconfig'
nest::kernel_tag: 'sophgo/v6.1.72'
nest::opensbi_branch: 'sophgo/sg2042-dev-nest'
nest::soc: 'sg2042'
nest::uboot_tag: 'sophgo/v2023.10-rc2'
nest::uboot_defconfig: 'sophgo_sg2042_defconfig'

nest::kernel_cmdline:
  - 'console=ttyS0,115200n8'
  - 'console=tty0'

nest::kernel_config:
  # Tuning
  CONFIG_HZ_PERIODIC: n
  CONFIG_NO_HZ_IDLE: y
  CONFIG_PREEMPT_NONE: n
  CONFIG_PREEMPT_VOLUNTARY: y
  CONFIG_CPU_IDLE: y
  CONFIG_RISCV_SBI_CPUIDLE: y

  # Selects ZLIB_DEFLATE for ZFS
  CONFIG_CRYPTO_DEFLATE: m

nest::uboot_config:
  CONFIG_BOOTCOMMAND: 'run distro_bootcmd'
  CONFIG_PREBOOT: 'fdt move ${fdt_addr_fixed} ${fdt_addr_r}'
